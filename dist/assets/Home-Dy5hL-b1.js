import{_ as C,c as D,a as i,o as L,b as u,w as c,U as R,d as v,e as V,p as b,f as o,g as t,t as s,j as d,i as n,q as k,F as f,l as y,s as F}from"./index-F27yCQw1.js";const x={class:"home"},H={class:"auth-links"},U={class:"section-grid"},j={class:"card notice-card"},q={class:"notice-title"},E={class:"notice-date"},M={class:"card rate-card"},T={class:"rate-list"},z={class:"rate-key"},A={class:"rate-value"},G={class:"rate-date"},J={__name:"Home",setup(K){const r=D(()=>!!localStorage.getItem("user_token")),$=V(),N=()=>{localStorage.removeItem("user_token"),alert("로그아웃 되었습니다."),$.push("/home")},_=i({}),m=i(""),h=i([]),w=async()=>{try{const e=await v.get("/exchange-rate");_.value=e.data.rates,m.value=e.data.date}catch(e){console.error("환율 정보 실패:",e)}},I=async()=>{try{const e=localStorage.getItem("lang")||"ko",g=await v.get(`/users/notices?limit=3&lang=${e}`);h.value=g.data.notices}catch(e){console.error("공지사항 실패:",e)}};L(()=>{w(),I()});const S=e=>Number(e).toFixed(2),B=e=>new Date(e).toLocaleDateString();return(e,g)=>{const l=b("router-link");return o(),u(R,null,{default:c(()=>[t("div",x,[t("h1",null,s(e.$t("home.title")),1),t("div",H,[r.value?d("",!0):(o(),u(l,{key:0,to:"/login"},{default:c(()=>[k(s(e.$t("home.login")),1)]),_:1})),r.value?d("",!0):(o(),u(l,{key:1,to:"/register"},{default:c(()=>[k(s(e.$t("home.register")),1)]),_:1})),r.value?(o(),n("button",{key:2,onClick:N},s(e.$t("home.logout")),1)):d("",!0)]),t("section",U,[t("div",j,[t("h2",null,"📢 "+s(e.$t("home.notice")),1),t("ul",null,[(o(!0),n(f,null,y(h.value,a=>(o(),n("li",{key:a.id,class:"notice-item"},[F(l,{to:`/support/notice/${a.id}`,class:"notice-link"},{default:c(()=>[t("span",q,s(a.title||"제목 없음"),1),t("span",E,s(B(a.created_at)),1)]),_:2},1032,["to"])]))),128))])]),t("div",M,[t("h2",null,"💱 "+s(e.$t("home.exchangeRate")),1),t("ul",T,[(o(!0),n(f,null,y(_.value,(a,p)=>(o(),n("li",{key:p,class:"rate-item"},[t("span",z,s(p),1),t("span",A,"₩"+s(S(a)),1)]))),128))]),t("div",G,s(e.$t("home.date"))+": "+s(m.value),1)])])])]),_:1})}}},P=C(J,[["__scopeId","data-v-42e0072d"]]);export{P as default};
