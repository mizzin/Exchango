import{_ as v,B as g,a as i,o as _,p as u,b as f,w as k,A as h,e as x,f as y,g as t,k as c,v as A,m as B}from"./index-BUlgKWMI.js";const b={class:"admin-notice-form"},w={__name:"AdminNoticeEdit",setup(N){const d=g(),p=x(),l=d.params.id,a=i(""),r=i(""),n=i("en");_(async()=>{const s=localStorage.getItem("admin_token");try{const o=(await u.get(`/admin/notices/${l}`,{headers:{Authorization:`Bearer ${s}`}})).data.notice;a.value=o.title,r.value=o.content,n.value=o.language}catch(e){console.error("❌ 공지 로딩 실패:",e)}});const m=async()=>{const s=localStorage.getItem("admin_token");try{await u.put(`/admin/notices/${l}`,{title:a.value,content:r.value,language:n.value},{headers:{Authorization:`Bearer ${s}`}}),alert("수정 완료!"),p.push("/admin/notice")}catch(e){console.error("❌ 수정 실패:",e),alert("공지 수정 실패")}};return(s,e)=>(y(),f(h,null,{default:k(()=>[t("div",b,[e[3]||(e[3]=t("h2",null,"Edit Notice",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"text",class:"notice-input"},null,512),[[A,a.value]]),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),class:"notice-input"},e[2]||(e[2]=[t("option",{value:"en"},"English",-1),t("option",{value:"ko"},"Korean",-1),t("option",{value:"ja"},"Japanese",-1),t("option",{value:"zh"},"Chinese",-1)]),512),[[B,n.value]]),t("button",{class:"submit-btn",onClick:m},"Save")])]),_:1}))}},S=v(w,[["__scopeId","data-v-82bd53f0"]]);export{S as default};
